# 프로필 및 설문조사 테스트 가이드

이 문서는 Task 4 "프로필 및 온보딩 설문조사 구현"에 대한 종합적인 테스트 가이드입니다.

## 📋 테스트 개요

### 구현된 기능
1. **프로필 관리 UI** - 사용자 프로필 조회/수정
2. **4단계 설문조사 UI** - 온보딩 설문조사 폼
3. **백엔드 API** - 설문조사 저장, 프로필 관리 API
4. **통합 테스트** - 전체 기능 검증

## 🚀 빠른 시작

### 1. 환경 설정

```bash
# 백엔드 의존성 설치
cd backend
npm install

# 프론트엔드는 이미 설치됨 (frontend 폴더)
cd ../frontend
npm start
```

### 2. 환경 변수 설정

백엔드 폴더에 `.env` 파일 생성:

```env
# 기본 설정 (MySQL이 없어도 테스트 가능)
NODE_ENV=development
PORT=3001
FRONTEND_URL=http://localhost:3000

# MySQL 설정 (선택사항)
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASSWORD=your_password
DB_NAME=gpters
```

### 3. 서버 시작

```bash
# 백엔드 서버 시작
cd backend
npm run dev

# 별도 터미널에서 프론트엔드 시작
cd frontend
npm start
```

## 🧪 테스트 시나리오

### A. 자동화 테스트

#### API 테스트 실행
```bash
cd backend
npm test
```

**테스트 항목:**
- ✅ 헬스 체크 API
- ✅ 설문조사 제출 API
- ✅ 설문조사 조회 API
- ✅ 프로필 관리 API
- ✅ 입력 유효성 검사
- ✅ 에러 핸들링
- ✅ CORS 설정

### B. 매뉴얼 테스트

#### 1. 설문조사 기능 테스트

**접속:** http://localhost:3000/survey

**시나리오 1: 정상 설문조사 제출**
- [ ] 1단계: 직업 선택 (6개 옵션 중 1개 선택)
- [ ] 2단계: 학습 목적 선택 (6개 옵션 중 1개 선택)  
- [ ] 3단계: 현재 레벨 선택 (4개 옵션 중 1개 선택)
- [ ] 4단계: 가입 동기 입력 (10자 이상 500자 이하)
- [ ] 진행 바가 올바르게 표시되는지 확인
- [ ] 각 단계에서 "다음" 버튼이 선택 시에만 활성화되는지 확인
- [ ] "이전" 버튼으로 단계 이동이 올바른지 확인
- [ ] 최종 제출 시 성공 메시지 표시
- [ ] 제출 후 홈페이지로 리다이렉트

**시나리오 2: 유효성 검사 테스트**
- [ ] 각 단계에서 선택 없이 "다음" 버튼이 비활성화되는지 확인
- [ ] 4단계에서 10자 미만 입력 시 제출 버튼 비활성화
- [ ] 500자 초과 입력 시 문자 수 카운터 확인

**시나리오 3: API 연동 테스트**
- [ ] 백엔드 서버 실행 상태에서 제출 성공
- [ ] 백엔드 서버 중단 상태에서 에러 메시지 표시
- [ ] 네트워크 오류 시 적절한 에러 핸들링

#### 2. 프로필 관리 기능 테스트

**접속:** http://localhost:3000/profile

**시나리오 1: 프로필 조회**
- [ ] 기본 프로필 정보 표시 (이름, 사용자명, 이메일 등)
- [ ] 프로필 이미지 기본값(UI Avatars) 표시
- [ ] 가입일 정보 표시
- [ ] 모든 필드가 읽기 전용 상태로 표시

**시나리오 2: 프로필 편집**
- [ ] "편집" 버튼 클릭 시 편집 모드 전환
- [ ] 모든 입력 필드가 활성화되는지 확인
- [ ] 프로필 이미지 업로드 버튼 표시
- [ ] "저장", "취소" 버튼 표시

**시나리오 3: 프로필 수정**
- [ ] 이름, 사용자명, 이메일 수정 가능
- [ ] 자기소개, 위치, 웹사이트 수정 가능
- [ ] 프로필 이미지 파일 선택 및 미리보기
- [ ] "저장" 버튼으로 변경사항 저장
- [ ] "취소" 버튼으로 변경사항 되돌리기

**시나리오 4: API 연동 테스트**
- [ ] 백엔드 연결 시 실제 API 호출
- [ ] 백엔드 미연결 시 로컬 상태만 업데이트
- [ ] 적절한 에러 메시지 및 경고 표시

#### 3. UI/UX 테스트

**반응형 디자인**
- [ ] 데스크톱 (1200px+) 정상 표시
- [ ] 태블릿 (768px-1199px) 정상 표시  
- [ ] 모바일 (767px 이하) 정상 표시

**사용자 경험**
- [ ] 로딩 스피너 및 상태 표시
- [ ] 버튼 호버 효과 및 애니메이션
- [ ] 카드 호버 효과 및 그림자
- [ ] 색상 일관성 (보라색 테마)
- [ ] 글래스모피즘 효과 적용

**접근성**
- [ ] 키보드 내비게이션 가능
- [ ] 스크린 리더 호환성 (aria-label)
- [ ] 색상 대비 충분
- [ ] 포커스 표시 명확

## 🔧 백엔드 API 테스트

### 1. 헬스 체크
```bash
curl http://localhost:3001/health
```

**예상 응답:**
```json
{
  "status": "OK",
  "message": "Gpters API 서버가 정상 작동 중입니다.",
  "timestamp": "2024-01-17T10:30:00.000Z",
  "version": "1.0.0"
}
```

### 2. 설문조사 제출
```bash
curl -X POST http://localhost:3001/api/survey \
  -H "Content-Type: application/json" \
  -d '{
    "occupation": "developer",
    "purpose": "skill-improvement", 
    "level": "intermediate",
    "motivation": "개발 실력을 향상시키고 싶어서 가입했습니다.",
    "userId": null
  }'
```

### 3. 설문조사 조회
```bash
curl http://localhost:3001/api/survey/1
```

### 4. 설문조사 통계
```bash
curl http://localhost:3001/api/survey/stats/summary
```

## 🐛 알려진 이슈 및 제한사항

### 현재 제한사항
1. **데이터베이스 의존성**: MySQL 없이는 API가 작동하지 않음
2. **인증 시스템**: 현재 하드코딩된 사용자 ID 사용
3. **파일 업로드**: 실제 파일 저장소 없이 base64로만 저장
4. **실시간 알림**: 아직 구현되지 않음

### 예상 에러 및 해결방법
1. **ECONNREFUSED**: 백엔드 서버가 실행되지 않음 → `npm run dev` 실행
2. **Database connection failed**: MySQL 미설치 → 로컬 모드로 테스트
3. **CORS 에러**: 프론트엔드 포트 확인 → 3000 포트 사용 확인

## ✅ 테스트 완료 체크리스트

### 기능 테스트
- [ ] 설문조사 4단계 모두 정상 작동
- [ ] 프로필 조회/수정 기능 정상 작동
- [ ] API 연동 및 에러 핸들링 정상
- [ ] 데이터 유효성 검사 정상 작동

### 성능 테스트
- [ ] 페이지 로딩 시간 3초 이내
- [ ] API 응답 시간 1초 이내
- [ ] 이미지 업로드 처리 정상
- [ ] 대용량 텍스트 입력 처리 정상

### 보안 테스트
- [ ] XSS 공격 방지 확인
- [ ] SQL Injection 방지 확인
- [ ] CORS 정책 올바르게 설정
- [ ] Rate Limiting 정상 작동

### 브라우저 호환성
- [ ] Chrome 최신 버전
- [ ] Firefox 최신 버전  
- [ ] Safari 최신 버전
- [ ] Edge 최신 버전

## 📝 테스트 리포트 양식

```
테스트 일시: YYYY-MM-DD HH:MM
테스트 환경: [OS, 브라우저, 화면 해상도]
테스트 수행자: [이름]

=== 기능 테스트 결과 ===
✅ 설문조사 제출: 성공
✅ 프로필 수정: 성공  
❌ API 연동: 실패 (MySQL 미설치)

=== 발견된 이슈 ===
1. [이슈 제목]: [상세 설명]
2. [이슈 제목]: [상세 설명]

=== 개선 사항 ===
1. [개선 사항]: [제안 내용]
2. [개선 사항]: [제안 내용]
```

## 🎯 테스트 성공 기준

### 필수 요구사항 (MUST)
- ✅ 설문조사 4단계 완주 가능
- ✅ 프로필 정보 수정 가능
- ✅ 데이터 유효성 검사 작동
- ✅ 기본 UI/UX 요구사항 충족

### 권장 요구사항 (SHOULD)  
- ✅ API 연동 정상 작동
- ✅ 에러 핸들링 적절
- ✅ 반응형 디자인 지원
- ✅ 접근성 기준 준수

### 선택 요구사항 (COULD)
- ⚠️ 실시간 데이터 동기화
- ⚠️ 고급 이미지 처리
- ⚠️ 오프라인 지원
- ⚠️ PWA 기능

---

**참고**: 이 테스트 가이드는 Task 4의 구현 완료를 검증하기 위한 것입니다. 모든 테스트 항목이 통과되면 Task 4가 성공적으로 완료된 것으로 간주합니다. 